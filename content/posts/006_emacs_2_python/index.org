#+title: Emacs Part 2: Python (Vanilla is a Powerful Flavor)
#+date: 2022-08-08
#+startup: inlineimages

* Intro
** Not many great up-to date guides on Python in Emacs
** Most immediately tell you to install lsp-mode, or elpy if it's old
** avoiding virtualenv wrapper plugins
** Going to get to =eglot= eventually, but first what can we do without it?
*** (spiderman meme "nothing without LSP")

* My stack - easy to modify each part
** eshell as our platform-independent shell
** poetry as the package manager
** pyright as our compiler
** Empty folder as starting place

* Setting up a new project
** Create a simple python script with a few obvious errors
*** Some should only be errors if the =poetry= environment isn't activated
** poetry install from a shell
** =C-u C-c C-p= to start python shell as =poetry run python=
*** =conda= version?
** =M-x compile= to run =poetry run pyright=
*** =conda= version?

* Add error parsing to the pyright compile output
** The regexp alist and alist-alist ... yeah
** Building the regex with re-builder
** Adding the regex to init.el
** Using the =M-g M-p= and =M-g M-n= to navigate errors

* Also can use =M-x compile= for =poetry= commands
** How to fix the ansi color issue
